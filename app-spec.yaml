alerts:
- rule: DEPLOYMENT_FAILED
- rule: DEPLOYMENT_LIVE
databases:
- cluster_name: app-db01
  engine: MONGODB
  name: app-db01
  production: true
  version: "4"
- engine: PG
  name: db
  num_nodes: 1
  size: db-s-dev-database
  version: "12"
domains:
- domain: swarn.tk
  type: PRIMARY
  wildcard: true
  zone: swarn.tk
- domain: www.swarn.tk
  type: ALIAS
  zone: swarn.tk
envs:
- key: NODE_ENV
  scope: RUN_AND_BUILD_TIME
  value: production
- key: DEBUG
  scope: RUN_AND_BUILD_TIME
  value: "1"
features:
- enable-kata-build
name: seal-app
region: ams
services:
- environment_slug: node-js
  envs:
  - key: PG_PORT_POOL
    scope: RUN_AND_BUILD_TIME
    value: "25061"
  - key: PG_DATABASE_POOL
    scope: RUN_AND_BUILD_TIME
    value: newpool
  github:
    branch: main
    deploy_on_push: true
    repo: techswarn/NodeProject
  http_port: 8080
  instance_count: 1
  instance_size_slug: professional-m
  log_destinations:
  - datadog:
      api_key: 8a7a3d80a856709aa40b98b4401d7617
      endpoint: https://http-intake.logs.datadoghq.com/v1/input
    name: Nodeproject
  - name: app
    papertrail:
      endpoint: syslog+tls://logs5.papertrailapp.com:24536
  name: nodeproject
  routes:
  - path: /nodeproject
  run_command: |-
    npm run test
    npm run server
  source_dir: /
- build_command: npm run build
  environment_slug: node-js
  github:
    branch: main
    deploy_on_push: true
    repo: techswarn/image-galary-next
  http_port: 8080
  instance_count: 2
  instance_size_slug: professional-xs
  log_destinations:
  - name: image-next
    papertrail:
      endpoint: syslog+tls://logs5.papertrailapp.com:24536
  name: image-galary-next
  routes:
  - path: /image-galary-next
  run_command: npm start
  source_dir: /